-- ç„ä¸›è…³æœ¬ - å®Œæ•´ä¿®å¾©ç‰ˆ v8.5 
print("ğŸ® =================================")
print("ğŸ® ç„ä¸›è…³æœ¬ - å®Œæ•´ä¿®å¾©ç‰ˆ v8.5")
print("ğŸ® ç§¦å§‹çš‡åˆ›ä½œ")
print("ğŸ® UIå®Œå…¨ä¿®å¾©ç‰ˆ - æŒ‰éˆ•ä½ˆå±€ä¿®å¾©")
print("ğŸ® =================================")

-- æª¢æ¸¬è¨­å‚™é¡å‹
local inputService = game:GetService("UserInputService")
local tweenService = game:GetService("TweenService")
local runService = game:GetService("RunService")
local httpService = game:GetService("HttpService")
local players = game:GetService("Players")

local isMobile = inputService.TouchEnabled
local isDesktop = inputService.MouseEnabled
local deviceType = isMobile and "ğŸ“± æ‰‹æ©Ÿ" or "ğŸ–¥ï¸ é›»è…¦"
print("âœ… æª¢æ¸¬åˆ°è¨­å‚™: " .. deviceType)

-- ç¢ºä¿éŠæˆ²å®Œå…¨åŠ è¼‰
repeat task.wait() until game:IsLoaded()
print("âœ… éŠæˆ²å·²åŠ è¼‰")

-- ç²å–ç©å®¶
local player = players.LocalPlayer
if not player then
    warn("âŒ ç„¡æ³•ç²å–ç©å®¶")
    return
end
print("âœ… ç©å®¶: " .. player.Name)

-- ç­‰å¾…PlayerGui
local playerGui = player:WaitForChild("PlayerGui", 10)
if not playerGui then
    warn("âŒ ç„¡æ³•æ‰¾åˆ°PlayerGuiï¼Œå˜—è©¦ä½¿ç”¨CoreGui")
    playerGui = game:GetService("CoreGui")
end
print("âœ… UIå®¹å™¨: " .. playerGui.Name)

-- æ¸…ç†èˆŠçš„UI
for _, gui in ipairs(playerGui:GetChildren()) do
    if gui.Name:find("XuanCong") then
        gui:Destroy()
    end
end
print("ğŸ—‘ï¸ æ¸…ç†äº†èˆŠçš„UI")

-- ========================
-- å‰µå»ºä¸»UI ScreenGui
-- ========================
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "XuanCongScript_Repaired_v8_5"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.DisplayOrder = 999
screenGui.IgnoreGuiInset = false

print("âœ… ScreenGuiå‰µå»ºå®Œæˆ")

-- ========================
-- å‰µå»ºå·¦å´å›ºå®šè¨­ç½®æŒ‰éˆ•
-- ========================
print("âš™ï¸ å‰µå»ºå·¦å´è¨­ç½®æŒ‰éˆ•...")

local sidebarButton = Instance.new("TextButton")
sidebarButton.Name = "SidebarButton"
sidebarButton.Size = UDim2.new(0, 40, 0, 40)
sidebarButton.Position = UDim2.new(0, 10, 0, 10)
sidebarButton.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
sidebarButton.BackgroundTransparency = 0.1
sidebarButton.BorderSizePixel = 0
sidebarButton.Text = "âš™ï¸"
sidebarButton.TextColor3 = Color3.fromRGB(200, 230, 255)
sidebarButton.Font = Enum.Font.GothamBold
sidebarButton.TextSize = 16
sidebarButton.AutoButtonColor = true
sidebarButton.ZIndex = 1000
sidebarButton.Parent = screenGui

-- åœ“è§’
local sidebarCorner = Instance.new("UICorner")
sidebarCorner.CornerRadius = UDim.new(0, 8)
sidebarCorner.Parent = sidebarButton

-- é‚Šæ¡†
local sidebarStroke = Instance.new("UIStroke")
sidebarStroke.Color = Color3.fromRGB(100, 150, 200)
sidebarStroke.Thickness = 1.5
sidebarStroke.Parent = sidebarButton

-- æ‡¸åœæç¤º
local buttonHint = Instance.new("TextLabel")
buttonHint.Name = "ButtonHint"
buttonHint.Size = UDim2.new(0, 90, 0, 24)
buttonHint.Position = UDim2.new(0, 45, 0, 9)
buttonHint.BackgroundColor3 = Color3.fromRGB(30, 40, 60)
buttonHint.BackgroundTransparency = 0.2
buttonHint.Text = "é–‹å•Ÿç„ä¸›è…³æœ¬"
buttonHint.TextColor3 = Color3.fromRGB(200, 230, 255)
buttonHint.Font = Enum.Font.Gotham
buttonHint.TextSize = 10
buttonHint.TextXAlignment = Enum.TextXAlignment.Center
buttonHint.Visible = false
buttonHint.ZIndex = 999
buttonHint.Parent = screenGui

local hintCorner = Instance.new("UICorner")
hintCorner.CornerRadius = UDim.new(0, 5)
hintCorner.Parent = buttonHint

-- æ‡¸åœæ•ˆæœ
sidebarButton.MouseEnter:Connect(function()
    buttonHint.Visible = true
    sidebarStroke.Color = Color3.fromRGB(150, 200, 255)
    sidebarButton.BackgroundColor3 = Color3.fromRGB(50, 70, 100)
end)

sidebarButton.MouseLeave:Connect(function()
    buttonHint.Visible = false
    sidebarStroke.Color = Color3.fromRGB(100, 150, 200)
    sidebarButton.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
end)

print("âœ… å·¦å´è¨­ç½®æŒ‰éˆ•å‰µå»ºå®Œæˆ")

-- ========================
-- å‰µå»ºä¸»æ¡†æ¶ï¼ˆé‡æ–°èª¿æ•´å¤§å°ï¼‰
-- ========================
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 310, 0, 310)  -- èª¿æ•´å¤§å°
mainFrame.Position = UDim2.new(0.5, -155, 0.5, -155)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 35, 50)
mainFrame.BackgroundTransparency = 0.1
mainFrame.BorderSizePixel = 0
mainFrame.Visible = false
mainFrame.Active = true
mainFrame.Parent = screenGui

-- åœ“è§’
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 8)
uiCorner.Parent = mainFrame

-- é‚Šæ¡†
local uiStroke = Instance.new("UIStroke")
uiStroke.Color = Color3.fromRGB(100, 150, 200)
uiStroke.Thickness = 1.5
uiStroke.Parent = mainFrame

print("âœ… ä¸»æ¡†æ¶å‰µå»ºå®Œæˆ")

-- ========================
-- æ‹–å‹•ç³»çµ±
-- ========================
print("ğŸ”„ è¨­ç½®æ‹–å‹•ç³»çµ±...")

-- å‰µå»ºæ‹–å‹•æ¨™é¡Œæ¬„
local dragButton = Instance.new("TextButton")
dragButton.Name = "DragButton"
dragButton.Size = UDim2.new(1, 0, 0, 30)
dragButton.Position = UDim2.new(0, 0, 0, 0)
dragButton.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
dragButton.BackgroundTransparency = 0.2
dragButton.BorderSizePixel = 0
dragButton.Text = "â„ï¸ ç„ä¸›è…³æœ¬ v8.5 - UIä¿®å¾©ç‰ˆ"
dragButton.TextColor3 = Color3.fromRGB(200, 230, 255)
dragButton.Font = Enum.Font.GothamBold
dragButton.TextSize = 12
dragButton.AutoButtonColor = false
dragButton.Parent = mainFrame

local dragCorner = Instance.new("UICorner")
dragCorner.CornerRadius = UDim.new(0, 8, 0, 0)
dragCorner.Parent = dragButton

-- é—œé–‰æŒ‰éˆ•
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 24, 0, 24)
closeButton.Position = UDim2.new(1, -28, 0, 3)
closeButton.BackgroundColor3 = Color3.fromRGB(220, 100, 100)
closeButton.BackgroundTransparency = 0.2
closeButton.BorderSizePixel = 0
closeButton.Text = "âŒ"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 13
closeButton.AutoButtonColor = true
closeButton.ZIndex = 2
closeButton.Parent = dragButton

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 5)
closeCorner.Parent = closeButton

-- é—œé–‰æŒ‰éˆ•æ‡¸åœæ•ˆæœ
closeButton.MouseEnter:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
end)

closeButton.MouseLeave:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(220, 100, 100)
end)

-- æ‹–å‹•è®Šé‡
local isDragging = false
local dragStartPosition = Vector2.new(0, 0)
local frameStartPosition = UDim2.new(0, 0, 0, 0)

-- é›»è…¦æ‹–å‹•
dragButton.MouseButton1Down:Connect(function()
    isDragging = true
    dragStartPosition = inputService:GetMouseLocation()
    frameStartPosition = mainFrame.Position
    dragButton.BackgroundColor3 = Color3.fromRGB(60, 90, 140)
    print("ğŸ–±ï¸ é–‹å§‹æ‹–å‹•")
end)

-- ä½¿ç”¨ RenderStepped ä¾†å¹³æ»‘æ‹–å‹•
runService.RenderStepped:Connect(function()
    if isDragging then
        local currentMouse = inputService:GetMouseLocation()
        local delta = currentMouse - dragStartPosition
        
        mainFrame.Position = UDim2.new(
            frameStartPosition.X.Scale,
            frameStartPosition.X.Offset + delta.X,
            frameStartPosition.Y.Scale,
            frameStartPosition.Y.Offset + delta.Y
        )
    end
end)

inputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        if isDragging then
            isDragging = false
            dragButton.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
            print("ğŸ–±ï¸ åœæ­¢æ‹–å‹•")
        end
    end
end)

print("âœ… æ‹–å‹•ç³»çµ±å·²è¨­ç½®")

-- ========================
-- å‰µå»ºåˆ†å€æ¨™é¡Œ
-- ========================

-- è…³æœ¬å€æ¨™é¡Œ
local scriptLabel = Instance.new("TextLabel")
scriptLabel.Name = "ScriptLabel"
scriptLabel.Size = UDim2.new(1, -20, 0, 18)
scriptLabel.Position = UDim2.new(0, 10, 0, 35)
scriptLabel.BackgroundTransparency = 1
scriptLabel.Text = "ğŸ“œ è…³æœ¬å€"
scriptLabel.TextColor3 = Color3.fromRGB(180, 200, 255)
scriptLabel.Font = Enum.Font.GothamBold
scriptLabel.TextSize = 11
scriptLabel.TextXAlignment = Enum.TextXAlignment.Center
scriptLabel.Parent = mainFrame

-- ========================
-- å‰µå»ºåŠŸèƒ½æŒ‰éˆ•ï¼ˆåƒç´ ç²¾ç¢ºä½ˆå±€ - ä¿®å¾©ç‰ˆï¼‰
-- ========================
print("ğŸ¯ è¨ˆç®—æŒ‰éˆ•ä½ˆå±€...")
print("ğŸ¯ UIå¯¬åº¦: 310åƒç´ ")
print("ğŸ¯ é‚Šè·: å·¦8åƒç´ , å³8åƒç´ ")

-- åƒç´ ç²¾ç¢ºçš„æŒ‰éˆ•å‰µå»ºå‡½æ•¸
local function createPixelButton(text, icon, xPos, yPos, color, isWide)
    local buttonWidth = isWide and 278 or 134  -- å¯¬æŒ‰éˆ•: 310-16-16=278, çª„æŒ‰éˆ•: (310-16-4-4-4)/2=134
    local buttonHeight = 28
    
    local button = Instance.new("TextButton")
    button.Name = text
    button.Size = UDim2.new(0, buttonWidth, 0, buttonHeight)
    button.Position = UDim2.new(0, xPos, 0, yPos)
    button.BackgroundColor3 = color
    button.BackgroundTransparency = 0.3
    button.BorderSizePixel = 0
    button.Text = icon .. " " .. text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.Gotham
    button.TextSize = 10
    button.AutoButtonColor = true
    button.Active = true
    button.Parent = mainFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 5)
    corner.Parent = button
    
    return button
end

-- è¨ˆç®—æŒ‰éˆ•ä½ˆå±€
local leftMargin = 8
local buttonWidth = 134
local gap = 4
local rightButtonX = leftMargin + buttonWidth + gap  -- 8 + 134 + 4 = 146

print("ğŸ¯ æŒ‰éˆ•ä½ˆå±€è¨ˆç®—:")
print("ğŸ¯ å–®å€‹æŒ‰éˆ•å¯¬åº¦: " .. buttonWidth .. "åƒç´ ")
print("ğŸ¯ æŒ‰éˆ•é–“éš™: " .. gap .. "åƒç´ ")
print("ğŸ¯ å·¦é‚ŠæŒ‰éˆ• Xä½ç½®: " .. leftMargin)
print("ğŸ¯ å³é‚ŠæŒ‰éˆ• Xä½ç½®: " .. rightButtonX)
print("ğŸ¯ ç¸½å¯¬åº¦æª¢æŸ¥: " .. leftMargin .. " + " .. buttonWidth .. " + " .. gap .. " + " .. buttonWidth .. " + " .. leftMargin .. " = " .. (leftMargin + buttonWidth + gap + buttonWidth + leftMargin) .. "åƒç´ ")
print("ğŸ¯ UIç¸½å¯¬åº¦: 310åƒç´ ")
print("ğŸ¯ ç‹€æ…‹: " .. ((leftMargin + buttonWidth + gap + buttonWidth + leftMargin) <= 310 and "âœ“ åœ¨ç¯„åœå…§" or "âœ— è¶…å‡ºç¯„åœ"))

-- ç¬¬ä¸€æ’ï¼šè…³æœ¬å€ï¼ˆçš®è…³æœ¬å’ŒXAåœ¨åŒä¸€æ’ï¼‰
local piScriptBtn = createPixelButton("çš®è…³æœ¬", "ğŸ…¿ï¸", leftMargin, 58, Color3.fromRGB(220, 150, 50), false)
local xaBtn = createPixelButton("XA", "ğŸŒŸ", rightButtonX, 58, Color3.fromRGB(220, 120, 50), false)

print("âœ… ç¬¬ä¸€æ’æŒ‰éˆ•å‰µå»ºå®Œæˆ")

-- åŠŸèƒ½å€æ¨™é¡Œ
local functionLabel = Instance.new("TextLabel")
functionLabel.Name = "FunctionLabel"
functionLabel.Size = UDim2.new(1, -20, 0, 18)
functionLabel.Position = UDim2.new(0, 10, 0, 93)
functionLabel.BackgroundTransparency = 1
functionLabel.Text = "âš™ï¸ åŠŸèƒ½å€"
functionLabel.TextColor3 = Color3.fromRGB(180, 200, 255)
functionLabel.Font = Enum.Font.GothamBold
functionLabel.TextSize = 11
functionLabel.TextXAlignment = Enum.TextXAlignment.Center
functionLabel.Parent = mainFrame

-- ç¬¬äºŒæ’ï¼šå¿«é€Ÿæ”»æ“Šï¼ˆå…¨å¯¬ï¼‰
local fastAttackBtn = createPixelButton("å¿«é€Ÿæ”»æ“Š", "âš¡", leftMargin, 120, Color3.fromRGB(0, 150, 220), true)

print("âœ… ç¬¬äºŒæ’æŒ‰éˆ•å‰µå»ºå®Œæˆ")

-- ç¬¬ä¸‰æ’ï¼šé£›è¡Œå’ŒFPSå„ªåŒ–åœ¨åŒä¸€æ’
local flightBtn = createPixelButton("é£›è¡Œ", "âœˆï¸", leftMargin, 155, Color3.fromRGB(100, 200, 100), false)
local fpsBoostBtn = createPixelButton("FPSå„ªåŒ–", "ğŸ–¥ï¸", rightButtonX, 155, Color3.fromRGB(180, 100, 220), false)

print("âœ… ç¬¬ä¸‰æ’æŒ‰éˆ•å‰µå»ºå®Œæˆ")
print("âœ… æ‰€æœ‰æŒ‰éˆ•ä½ˆå±€ä¿®å¾©å®Œæˆ")

-- ========================
-- è‡ªè¨‚è·é›¢èª¿æ•´å€åŸŸï¼ˆèª¿æ•´ä½ç½®ï¼‰
-- ========================
local distanceFrame = Instance.new("Frame")
distanceFrame.Name = "DistanceFrame"
distanceFrame.Size = UDim2.new(1, -16, 0, 70)
distanceFrame.Position = UDim2.new(0, 8, 0, 190)  -- ä¸‹ç§»ä½ç½®
distanceFrame.BackgroundColor3 = Color3.fromRGB(30, 45, 70)
distanceFrame.BackgroundTransparency = 0.2
distanceFrame.BorderSizePixel = 0
distanceFrame.Parent = mainFrame

local distanceCorner = Instance.new("UICorner")
distanceCorner.CornerRadius = UDim.new(0, 6)
distanceCorner.Parent = distanceFrame

-- è·é›¢æ¨™é¡Œ
local distanceTitle = Instance.new("TextLabel")
distanceTitle.Name = "DistanceTitle"
distanceTitle.Size = UDim2.new(1, -10, 0, 18)
distanceTitle.Position = UDim2.new(0, 5, 0, 5)
distanceTitle.BackgroundTransparency = 1
distanceTitle.Text = "ğŸ¯ è‡ªè¨‚æ”»æ“Šè·é›¢"
distanceTitle.TextColor3 = Color3.fromRGB(180, 220, 255)
distanceTitle.Font = Enum.Font.GothamBold
distanceTitle.TextSize = 11
distanceTitle.TextXAlignment = Enum.TextXAlignment.Center
distanceTitle.Parent = distanceFrame

-- è·é›¢è¼¸å…¥æ¡†ï¼ˆèª¿æ•´å¯¬åº¦ï¼‰
local distanceInput = Instance.new("TextBox")
distanceInput.Name = "DistanceInput"
distanceInput.Size = UDim2.new(0.65, 0, 0, 26)  -- ç¨å¾®åŠ å¯¬
distanceInput.Position = UDim2.new(0.05, 0, 0, 28)  -- èª¿æ•´ä½ç½®
distanceInput.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
distanceInput.BackgroundTransparency = 0.2
distanceInput.BorderSizePixel = 0
distanceInput.PlaceholderText = "è¼¸å…¥è·é›¢æ•¸å­—..."
distanceInput.Text = "5000"
distanceInput.TextColor3 = Color3.fromRGB(255, 255, 255)
distanceInput.Font = Enum.Font.Gotham
distanceInput.TextSize = 11
distanceInput.TextXAlignment = Enum.TextXAlignment.Center
distanceInput.Parent = distanceFrame

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 4)
inputCorner.Parent = distanceInput

-- è·é›¢è¼¸å…¥æ¡†æ•ˆæœ
distanceInput.Focused:Connect(function()
    distanceInput.BackgroundColor3 = Color3.fromRGB(50, 80, 120)
end)

distanceInput.FocusLost:Connect(function()
    distanceInput.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
end)

-- æ‡‰ç”¨æŒ‰éˆ•ï¼ˆèª¿æ•´å¯¬åº¦å’Œä½ç½®ï¼‰
local applyButton = Instance.new("TextButton")
applyButton.Name = "ApplyButton"
applyButton.Size = UDim2.new(0.25, 0, 0, 26)
applyButton.Position = UDim2.new(0.70, 5, 0, 28)  -- èª¿æ•´ä½ç½®
applyButton.BackgroundColor3 = Color3.fromRGB(60, 150, 200)
applyButton.BackgroundTransparency = 0.3
applyButton.BorderSizePixel = 0
applyButton.Text = "æ‡‰ç”¨"
applyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
applyButton.Font = Enum.Font.Gotham
applyButton.TextSize = 10
applyButton.AutoButtonColor = true
applyButton.Parent = distanceFrame

local applyCorner = Instance.new("UICorner")
applyCorner.CornerRadius = UDim.new(0, 4)
applyCorner.Parent = applyButton

-- ç•¶å‰è·é›¢é¡¯ç¤º
local currentDistanceLabel = Instance.new("TextLabel")
currentDistanceLabel.Name = "CurrentDistanceLabel"
currentDistanceLabel.Size = UDim2.new(1, -10, 0, 16)
currentDistanceLabel.Position = UDim2.new(0, 5, 0, 58)
currentDistanceLabel.BackgroundTransparency = 1
currentDistanceLabel.Text = "ç•¶å‰è·é›¢: 5000"
currentDistanceLabel.TextColor3 = Color3.fromRGB(180, 220, 255)
currentDistanceLabel.Font = Enum.Font.Gotham
currentDistanceLabel.TextSize = 10
currentDistanceLabel.TextXAlignment = Enum.TextXAlignment.Center
currentDistanceLabel.Parent = distanceFrame

-- ========================
-- æ·»åŠ åˆ†éš”ç·š
-- ========================
local divider1 = Instance.new("Frame")
divider1.Name = "Divider1"
divider1.Size = UDim2.new(1, -16, 0, 0.8)
divider1.Position = UDim2.new(0, 8, 0, 90)
divider1.BackgroundColor3 = Color3.fromRGB(100, 150, 200)
divider1.BackgroundTransparency = 0.5
divider1.BorderSizePixel = 0
divider1.Parent = mainFrame

local divider2 = Instance.new("Frame")
divider2.Name = "Divider2"
divider2.Size = UDim2.new(1, -16, 0, 0.8)
divider2.Position = UDim2.new(0, 8, 0, 262)
divider2.BackgroundColor3 = Color3.fromRGB(100, 150, 200)
divider2.BackgroundTransparency = 0.5
divider2.BorderSizePixel = 0
divider2.Parent = mainFrame

-- ========================
-- æ·»åŠ ä½œè€…ä¿¡æ¯
-- ========================
local authorLabel = Instance.new("TextLabel")
authorLabel.Name = "AuthorLabel"
authorLabel.Size = UDim2.new(1, -16, 0, 18)
authorLabel.Position = UDim2.new(0, 8, 0, 272)
authorLabel.BackgroundTransparency = 1
authorLabel.Text = "ğŸ‘‘ ç§¦å§‹çš‡åˆ›ä½œ - UIä¿®å¾©ç‰ˆ"
authorLabel.TextColor3 = Color3.fromRGB(180, 180, 220)
authorLabel.Font = Enum.Font.Gotham
authorLabel.TextSize = 11
authorLabel.TextXAlignment = Enum.TextXAlignment.Center
authorLabel.Parent = mainFrame

local versionLabel = Instance.new("TextLabel")
versionLabel.Name = "VersionLabel"
versionLabel.Size = UDim2.new(1, -16, 0, 16)
versionLabel.Position = UDim2.new(0, 8, 0, 292)
versionLabel.BackgroundTransparency = 1
versionLabel.Text = "â„ï¸ ç„ä¸›è…³æœ¬ v8.5"
versionLabel.TextColor3 = Color3.fromRGB(150, 200, 255)
versionLabel.Font = Enum.Font.Gotham
versionLabel.TextSize = 9
versionLabel.TextXAlignment = Enum.TextXAlignment.Center
versionLabel.Parent = mainFrame

print("âœ… UIå…ƒç´ å‰µå»ºå®Œæˆ")

-- ========================
-- ç°¡å–®é€šçŸ¥ç³»çµ±
-- ========================
local function showNotification(message, color, duration)
    duration = duration or 2
    
    local notifyFrame = Instance.new("Frame")
    notifyFrame.Name = "Notify_" .. tick()
    notifyFrame.Size = UDim2.new(0, 200, 0, 45)
    notifyFrame.Position = UDim2.new(1, 210, 1, -55)
    notifyFrame.AnchorPoint = Vector2.new(1, 1)
    notifyFrame.BackgroundColor3 = color or Color3.fromRGB(40, 60, 90)
    notifyFrame.BackgroundTransparency = 0.2
    notifyFrame.BorderSizePixel = 0
    notifyFrame.ZIndex = 10000
    notifyFrame.Parent = screenGui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = notifyFrame
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -12, 1, -12)
    textLabel.Position = UDim2.new(0, 6, 0, 6)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = message
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextSize = 10
    textLabel.TextWrapped = true
    textLabel.Parent = notifyFrame
    
    print("ğŸ“¢ é€šçŸ¥: " .. message)
    
    local slideIn = tweenService:Create(notifyFrame, TweenInfo.new(0.3), {
        Position = UDim2.new(1, -10, 1, -55)
    })
    slideIn:Play()
    
    task.spawn(function()
        task.wait(duration)
        
        if notifyFrame and notifyFrame.Parent then
            local slideOut = tweenService:Create(notifyFrame, TweenInfo.new(0.2), {
                Position = UDim2.new(1, 210, 1, -55)
            })
            slideOut:Play()
            
            slideOut.Completed:Wait()
            notifyFrame:Destroy()
        end
    end)
end

-- ========================
-- ç°¡å–®åŠ è¼‰å¤–éƒ¨è…³æœ¬
-- ========================
local function loadExternalScript(url)
    local success, result = pcall(function()
        return loadstring(game:HttpGet(url))()
    end)
    return success, result
end

-- å¤–éƒ¨è…³æœ¬URL
local EXTERNAL_SCRIPTS = {
    PI = "https://raw.githubusercontent.com/xiaopi77/xiaopi77/main/QQ1002100032-Roblox-Pi-script.lua",
    XA = "https://raw.gitcode.com/Xingtaiduan/Scripts/raw/main/Loader.lua",
    FLIGHT = "https://raw.githubusercontent.com/kexuan001/rjrym/refs/heads/main/fly.lua",
    FPS = "https://raw.githubusercontent.com/kexuan001/rjrym/refs/heads/main/fpsboost"
}

-- ========================
-- è‡ªè¨‚è·é›¢å¿«é€Ÿæ”»æ“Šç³»çµ±
-- ========================
local FastAttackSystem = {
    enabled = false,
    running = false,
    attackTask = nil,
    fastAttackObj = nil,
    currentDistance = 5000
}

-- å®‰å…¨ç­‰å¾…å­é …å‡½æ•¸
local function SafeWaitForChild(parent, childName)
    local success, result = pcall(function()
        return parent:WaitForChild(childName)
    end)
    if not success or not result then
        warn("âš ï¸ ç„¡æ³•æ‰¾åˆ°: " .. childName)
    end
    return result
end

-- åˆå§‹åŒ–å¿«é€Ÿæ”»æ“Šç³»çµ±
local function initializeFastAttack()
    if FastAttackSystem.fastAttackObj then
        return FastAttackSystem.fastAttackObj
    end
    
    print("âš¡ æ­£åœ¨åˆå§‹åŒ–å¿«é€Ÿæ”»æ“Šç³»çµ±...")
    showNotification("âš¡ æ­£åœ¨åˆå§‹åŒ–å¿«é€Ÿæ”»æ“Š...", Color3.fromRGB(255, 165, 0), 1.5)
    
    local success, result = pcall(function()
        _G.FastAttack = true

        if _G.FastAttack then
            local _ENV = (getgenv or getrenv or getfenv)()

            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local Players = game:GetService("Players")
            local Player = Players.LocalPlayer

            if not Player then
                warn("âŒ æœªæ‰¾åˆ°æœ¬åœ°ç©å®¶")
                return nil
            end

            local Remotes = SafeWaitForChild(ReplicatedStorage, "Remotes")
            if not Remotes then return nil end

            local Modules = SafeWaitForChild(ReplicatedStorage, "Modules")
            local Net = SafeWaitForChild(Modules, "Net")

            local Settings = {
                AutoClick = true,
                ClickDelay = 0.000000000000000000000000001
            }

            local Module = {}

            Module.FastAttack = (function()
                if _ENV.rz_FastAttack then
                    return _ENV.rz_FastAttack
                end

                local FastAttack = {
                    Distance = FastAttackSystem.currentDistance,
                    attackMobs = true,
                    attackPlayers = false,
                    Equipped = nil,
                    active = true
                }

                local RegisterAttack = SafeWaitForChild(Net, "RE/RegisterAttack")
                local RegisterHit = SafeWaitForChild(Net, "RE/RegisterHit")

                local function IsAlive(character)
                    return character and character:FindFirstChild("Humanoid") and character.Humanoid.Health > 0
                end

                local function ProcessEnemies(OthersEnemies, Folder)
                    local BasePart = nil
                    for _, Enemy in Folder:GetChildren() do
                        local Head = Enemy:FindFirstChild("Head")
                        if Head and IsAlive(Enemy) and Player:DistanceFromCharacter(Head.Position) < FastAttack.Distance then
                            if Enemy ~= Player.Character then
                                table.insert(OthersEnemies, { Enemy, Head })
                                BasePart = Head
                            end
                        end
                    end
                    return BasePart
                end

                function FastAttack:Attack(BasePart, OthersEnemies)
                    if not BasePart or #OthersEnemies == 0 then return end
                    if not self.active then return end
                    
                    pcall(function()
                        RegisterAttack:FireServer(Settings.ClickDelay or 0)
                        RegisterHit:FireServer(BasePart, OthersEnemies)
                    end)
                end

                function FastAttack:AttackNearest()
                    if not self.active then return end
                    
                    local OthersEnemies = {}
                    local workspace = game:GetService("Workspace")
                    local Enemies = workspace:FindFirstChild("Enemies")
                    local Characters = workspace:FindFirstChild("Characters")
                    
                    if not Enemies or not Characters then return end
                    
                    local Part1 = ProcessEnemies(OthersEnemies, Enemies)
                    local Part2 = ProcessEnemies(OthersEnemies, Characters)
                    
                    if #OthersEnemies > 0 then
                        self:Attack(Part1 or Part2, OthersEnemies)
                    end
                end

                function FastAttack:BladeHits()
                    if not self.active then return end
                    
                    local character = Player.Character
                    if not character then return end
                    
                    local Equipped = character:FindFirstChildOfClass("Tool")
                    if Equipped and Equipped.ToolTip ~= "Gun" then
                        self:AttackNearest()
                    end
                end

                _ENV.rz_FastAttack = FastAttack
                return FastAttack
            end)()
            
            return Module.FastAttack
        end
        return nil
    end)
    
    if success and result then
        FastAttackSystem.fastAttackObj = result
        print("âœ… å¿«é€Ÿæ”»æ“Šç³»çµ±åˆå§‹åŒ–æˆåŠŸ")
        showNotification("âœ… å¿«é€Ÿæ”»æ“Šç³»çµ±æº–å‚™å°±ç·’", Color3.fromRGB(0, 180, 0), 1.5)
        return result
    else
        warn("âŒ å¿«é€Ÿæ”»æ“Šç³»çµ±åˆå§‹åŒ–å¤±æ•—: " .. tostring(result))
        showNotification("âŒ å¿«é€Ÿæ”»æ“Šåˆå§‹åŒ–å¤±æ•—", Color3.fromRGB(220, 0, 0), 2)
        return nil
    end
end

-- å•Ÿå‹•å¿«é€Ÿæ”»æ“Š
local function startFastAttack()
    if FastAttackSystem.running then
        showNotification("âš¡ å¿«é€Ÿæ”»æ“Šå·²åœ¨é‹è¡Œä¸­", Color3.fromRGB(255, 165, 0), 1.5)
        return
    end
    
    local fastAttackObj = initializeFastAttack()
    if not fastAttackObj then
        showNotification("âŒ ç„¡æ³•å•Ÿå‹•å¿«é€Ÿæ”»æ“Š", Color3.fromRGB(220, 0, 0), 2)
        return
    end
    
    FastAttackSystem.running = true
    FastAttackSystem.enabled = true
    fastAttackObj.active = true
    
    -- è¨­ç½®è‡ªè¨‚è·é›¢
    fastAttackObj.Distance = FastAttackSystem.currentDistance
    
    -- å•Ÿå‹•æ”»æ“Šå¾ªç’°
    FastAttackSystem.attackTask = task.spawn(function()
        while FastAttackSystem.running do
            if fastAttackObj.active then
                pcall(fastAttackObj.BladeHits, fastAttackObj)
            end
            task.wait(0.001)
        end
    end)
    
    showNotification("âš¡ å¿«é€Ÿæ”»æ“Šå·²å•Ÿå‹•\nğŸ¯ è·é›¢: " .. FastAttackSystem.currentDistance, Color3.fromRGB(0, 180, 0), 2)
    fastAttackBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
    fastAttackBtn.Text = "âš¡ å¿«é€Ÿæ”»æ“Š [" .. FastAttackSystem.currentDistance .. "] [ON]"
end

-- åœæ­¢å¿«é€Ÿæ”»æ“Š
local function stopFastAttack()
    if not FastAttackSystem.running then return end
    
    FastAttackSystem.running = false
    FastAttackSystem.enabled = false
    
    -- åœæ­¢æ”»æ“Šå¾ªç’°
    if FastAttackSystem.attackTask then
        task.cancel(FastAttackSystem.attackTask)
        FastAttackSystem.attackTask = nil
    end
    
    -- åœç”¨æ”»æ“Šå°è±¡
    if FastAttackSystem.fastAttackObj then
        FastAttackSystem.fastAttackObj.active = false
    end
    
    -- æ¸…é™¤å…¨å±€æ¨™èªŒ
    _G.FastAttack = false
    
    showNotification("ğŸ›‘ å¿«é€Ÿæ”»æ“Šå·²åœæ­¢", Color3.fromRGB(200, 0, 0), 1.5)
    fastAttackBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 220)
    fastAttackBtn.Text = "âš¡ å¿«é€Ÿæ”»æ“Š [" .. FastAttackSystem.currentDistance .. "]"
end

-- æ›´æ–°è·é›¢å‡½æ•¸
local function updateDistance()
    local inputText = distanceInput.Text
    if inputText == "" then
        showNotification("âš ï¸ è«‹è¼¸å…¥è·é›¢æ•¸å­—", Color3.fromRGB(255, 165, 0), 1.5)
        return
    end
    
    -- æª¢æŸ¥æ˜¯å¦ç‚ºæ•¸å­—
    local distanceNumber = tonumber(inputText)
    if not distanceNumber then
        showNotification("âŒ è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—", Color3.fromRGB(220, 0, 0), 1.5)
        return
    end
    
    -- é™åˆ¶æœ€å°å€¼å’Œæœ€å¤§å€¼
    if distanceNumber < 100 then
        distanceNumber = 100
        showNotification("âš ï¸ è·é›¢å·²è‡ªå‹•èª¿æ•´ç‚ºæœ€å°å€¼ 100", Color3.fromRGB(255, 165, 0), 1.5)
    elseif distanceNumber > 50000 then
        distanceNumber = 50000
        showNotification("âš ï¸ è·é›¢å·²è‡ªå‹•èª¿æ•´ç‚ºæœ€å¤§å€¼ 50000", Color3.fromRGB(255, 165, 0), 1.5)
    end
    
    -- æ›´æ–°è·é›¢
    FastAttackSystem.currentDistance = distanceNumber
    
    -- æ›´æ–°é¡¯ç¤º
    currentDistanceLabel.Text = "ç•¶å‰è·é›¢: " .. distanceNumber
    fastAttackBtn.Text = "âš¡ å¿«é€Ÿæ”»æ“Š [" .. distanceNumber .. "]"
    
    -- å¦‚æœæ­£åœ¨é‹è¡Œï¼Œä¹Ÿæ›´æ–°æ”»æ“Šå°è±¡çš„è·é›¢
    if FastAttackSystem.running and FastAttackSystem.fastAttackObj then
        FastAttackSystem.fastAttackObj.Distance = distanceNumber
        fastAttackBtn.Text = "âš¡ å¿«é€Ÿæ”»æ“Š [" .. distanceNumber .. "] [ON]"
        showNotification("âœ… æ”»æ“Šè·é›¢å·²æ›´æ–°: " .. distanceNumber, Color3.fromRGB(0, 180, 0), 1.5)
    else
        showNotification("âœ… æ”»æ“Šè·é›¢è¨­ç½®ç‚º: " .. distanceNumber, Color3.fromRGB(0, 180, 0), 1.5)
    end
end

-- ========================
-- åŠŸèƒ½ç‹€æ…‹
-- ========================
local functionsState = {
    piScript = {loaded = false, script = nil},
    xaScript = {loaded = false, script = nil, running = false},
    flightScript = {loaded = false, script = nil, running = false},
    fpsScript = {loaded = false, script = nil, running = false}
}

-- ========================
-- UIé¡¯ç¤º/éš±è—åŠŸèƒ½
-- ========================
local isUIVisible = false

local function toggleUI()
    isUIVisible = not isUIVisible
    
    if isUIVisible then
        -- é¡¯ç¤ºUI
        mainFrame.Visible = true
        sidebarButton.Text = "ğŸ“‚"
        sidebarButton.BackgroundColor3 = Color3.fromRGB(60, 90, 140)
        buttonHint.Text = "é—œé–‰ç„ä¸›è…³æœ¬"
        
        -- æ·¡å…¥æ•ˆæœ
        mainFrame.Position = UDim2.new(0.5, -155, 0.5, -155)
        mainFrame.BackgroundTransparency = 1
        
        local fadeIn = tweenService:Create(mainFrame, TweenInfo.new(0.3), {
            BackgroundTransparency = 0.1
        })
        fadeIn:Play()
        
        showNotification("âœ… ç„ä¸›è…³æœ¬ v8.5 å·²é–‹å•Ÿ", Color3.fromRGB(50, 150, 200), 1.5)
    else
        -- éš±è—UI
        sidebarButton.Text = "âš™ï¸"
        sidebarButton.BackgroundColor3 = Color3.fromRGB(40, 60, 90)
        buttonHint.Text = "é–‹å•Ÿç„ä¸›è…³æœ¬"
        
        local fadeOut = tweenService:Create(mainFrame, TweenInfo.new(0.2), {
            BackgroundTransparency = 1
        })
        fadeOut:Play()
        
        fadeOut.Completed:Wait()
        mainFrame.Visible = false
        
        showNotification("ğŸ“± ç„ä¸›è…³æœ¬å·²éš±è—", Color3.fromRGB(150, 150, 150), 1.5)
    end
end

-- ========================
-- æŒ‰éˆ•äº‹ä»¶è™•ç†
-- ========================
print("ğŸ”§ è¨­ç½®æŒ‰éˆ•äº‹ä»¶...")

-- å´é‚Šæ¬„æŒ‰éˆ•é»æ“Š
sidebarButton.MouseButton1Click:Connect(function()
    toggleUI()
end)

-- çš®è…³æœ¬æŒ‰éˆ•
piScriptBtn.MouseButton1Click:Connect(function()
    if not functionsState.piScript.loaded then
        piScriptBtn.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
        piScriptBtn.Text = "ğŸ…¿ï¸ åŠ è¼‰ä¸­..."
        
        task.spawn(function()
            local success, result = loadExternalScript(EXTERNAL_SCRIPTS.PI)
            
            if success then
                functionsState.piScript.loaded = true
                functionsState.piScript.script = result
                piScriptBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
                piScriptBtn.Text = "ğŸ…¿ï¸ åŠ è¼‰æˆåŠŸ"
                showNotification("âœ… çš®è…³æœ¬åŠ è¼‰æˆåŠŸ", Color3.fromRGB(0, 180, 0), 2)
            else
                piScriptBtn.BackgroundColor3 = Color3.fromRGB(220, 80, 80)
                piScriptBtn.Text = "ğŸ…¿ï¸ åŠ è¼‰å¤±æ•—"
                showNotification("âŒ çš®è…³æœ¬åŠ è¼‰å¤±æ•—", Color3.fromRGB(220, 0, 0), 2)
            end
            
            task.wait(1.5)
            piScriptBtn.BackgroundColor3 = Color3.fromRGB(220, 150, 50)
            piScriptBtn.Text = "ğŸ…¿ï¸ çš®è…³æœ¬"
        end)
    else
        showNotification("ğŸ…¿ï¸ çš®è…³æœ¬å·²åŠ è¼‰", Color3.fromRGB(220, 150, 50), 1.5)
    end
end)

-- XAæŒ‰éˆ•ï¼ˆä¿®å¾©ä½ç½®ï¼‰
xaBtn.MouseButton1Click:Connect(function()
    if not functionsState.xaScript.loaded then
        xaBtn.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
        xaBtn.Text = "ğŸŒŸ åŠ è¼‰ä¸­..."
        
        task.spawn(function()
            local success, result = loadExternalScript(EXTERNAL_SCRIPTS.XA)
            
            if success then
                functionsState.xaScript.loaded = true
                functionsState.xaScript.script = result
                functionsState.xaScript.running = true
                xaBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
                xaBtn.Text = "ğŸŒŸ XA [ON]"
                showNotification("âœ… XAåŠ è¼‰æˆåŠŸ", Color3.fromRGB(0, 180, 0), 2)
            else
                xaBtn.BackgroundColor3 = Color3.fromRGB(220, 80, 80)
                xaBtn.Text = "ğŸŒŸ åŠ è¼‰å¤±æ•—"
                showNotification("âŒ XAåŠ è¼‰å¤±æ•—", Color3.fromRGB(220, 0, 0), 2)
            end
        end)
    else
        functionsState.xaScript.running = not functionsState.xaScript.running
        
        if functionsState.xaScript.running then
            xaBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
            xaBtn.Text = "ğŸŒŸ XA [ON]"
            showNotification("ğŸŒŸ XAå·²å•Ÿç”¨", Color3.fromRGB(0, 180, 0), 1.5)
        else
            xaBtn.BackgroundColor3 = Color3.fromRGB(220, 120, 50)
            xaBtn.Text = "ğŸŒŸ XA [OFF]"
            showNotification("ğŸŒŸ XAå·²é—œé–‰", Color3.fromRGB(150, 150, 150), 1.5)
        end
    end
end)

-- å¿«é€Ÿæ”»æ“ŠæŒ‰éˆ•
fastAttackBtn.MouseButton1Click:Connect(function()
    if FastAttackSystem.running then
        stopFastAttack()
    else
        startFastAttack()
    end
end)

-- æ‡‰ç”¨è·é›¢æŒ‰éˆ•
applyButton.MouseButton1Click:Connect(function()
    updateDistance()
end)

-- è·é›¢è¼¸å…¥æ¡†æŒ‰Enteréµæ‡‰ç”¨
distanceInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        updateDistance()
    end
end)

-- é£›è¡ŒæŒ‰éˆ•ï¼ˆä¿®å¾©ä½ç½®ï¼‰
flightBtn.MouseButton1Click:Connect(function()
    if not functionsState.flightScript.loaded then
        flightBtn.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
        flightBtn.Text = "âœˆï¸ åŠ è¼‰ä¸­..."
        
        task.spawn(function()
            local success, result = loadExternalScript(EXTERNAL_SCRIPTS.FLIGHT)
            
            if success then
                functionsState.flightScript.loaded = true
                functionsState.flightScript.script = result
                functionsState.flightScript.running = true
                flightBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
                flightBtn.Text = "âœˆï¸ é£›è¡Œ [ON]"
                showNotification("âœ… é£›è¡ŒåŠ è¼‰æˆåŠŸ", Color3.fromRGB(0, 180, 0), 2)
            else
                flightBtn.BackgroundColor3 = Color3.fromRGB(220, 80, 80)
                flightBtn.Text = "âœˆï¸ åŠ è¼‰å¤±æ•—"
                showNotification("âŒ é£›è¡ŒåŠ è¼‰å¤±æ•—", Color3.fromRGB(220, 0, 0), 2)
            end
        end)
    else
        functionsState.flightScript.running = not functionsState.flightScript.running
        
        if functionsState.flightScript.running then
            flightBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
            flightBtn.Text = "âœˆï¸ é£›è¡Œ [ON]"
            showNotification("âœˆï¸ é£›è¡Œå·²å•Ÿç”¨", Color3.fromRGB(0, 180, 0), 1.5)
        else
            flightBtn.BackgroundColor3 = Color3.fromRGB(100, 200, 100)
            flightBtn.Text = "âœˆï¸ é£›è¡Œ [OFF]"
            showNotification("âœˆï¸ é£›è¡Œå·²é—œé–‰", Color3.fromRGB(200, 0, 0), 1.5)
        end
    end
end)

-- FPSå„ªåŒ–æŒ‰éˆ•ï¼ˆä¿®å¾©ä½ç½®ï¼‰
fpsBoostBtn.MouseButton1Click:Connect(function()
    if not functionsState.fpsScript.loaded then
        fpsBoostBtn.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
        fpsBoostBtn.Text = "ğŸ–¥ï¸ å„ªåŒ–ä¸­..."
        
        task.spawn(function()
            local success, result = loadExternalScript(EXTERNAL_SCRIPTS.FPS)
            
            if success then
                functionsState.fpsScript.loaded = true
                functionsState.fpsScript.script = result
                functionsState.fpsScript.running = true
                fpsBoostBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
                fpsBoostBtn.Text = "ğŸ–¥ï¸ FPSå„ªåŒ– [ON]"
                showNotification("âœ… FPSå„ªåŒ–åŠ è¼‰æˆåŠŸ", Color3.fromRGB(0, 180, 0), 2)
            else
                fpsBoostBtn.BackgroundColor3 = Color3.fromRGB(220, 80, 80)
                fpsBoostBtn.Text = "ğŸ–¥ï¸ åŠ è¼‰å¤±æ•—"
                showNotification("âŒ FPSå„ªåŒ–åŠ è¼‰å¤±æ•—", Color3.fromRGB(220, 0, 0), 2)
            end
        end)
    else
        functionsState.fpsScript.running = not functionsState.fpsScript.running
        
        if functionsState.fpsScript.running then
            fpsBoostBtn.BackgroundColor3 = Color3.fromRGB(60, 220, 60)
            fpsBoostBtn.Text = "ğŸ–¥ï¸ FPSå„ªåŒ– [ON]"
            showNotification("ğŸ–¥ï¸ FPSå„ªåŒ–å·²å•Ÿç”¨", Color3.fromRGB(0, 180, 0), 1.5)
        else
            fpsBoostBtn.BackgroundColor3 = Color3.fromRGB(180, 100, 220)
            fpsBoostBtn.Text = "ğŸ–¥ï¸ FPSå„ªåŒ– [OFF]"
            showNotification("ğŸ–¥ï¸ FPSå„ªåŒ–å·²é—œé–‰", Color3.fromRGB(150, 150, 150), 1.5)
        end
    end
end)

-- é—œé–‰æŒ‰éˆ•
closeButton.MouseButton1Click:Connect(function()
    toggleUI()
end)

-- ESCéµé—œé–‰ä¸»UIï¼ˆåƒ…é›»è…¦ï¼‰
if not isMobile then
    inputService.InputBegan:Connect(function(input, gameProcessed)
        if not gameProcessed and input.KeyCode == Enum.KeyCode.Escape then
            if isUIVisible then
                toggleUI()
            end
        end
    end)
end

-- ========================
-- éŠæˆ²é€€å‡ºæ™‚æ¸…ç†
-- ========================
game:GetService("Players").PlayerRemoving:Connect(function(leavingPlayer)
    if leavingPlayer == player then
        print("ğŸ§¹ ç©å®¶é›¢é–‹ï¼Œæ¸…ç†è³‡æº...")
        
        -- åœæ­¢å¿«é€Ÿæ”»æ“Š
        stopFastAttack()
        
        print("âœ… è³‡æºæ¸…ç†å®Œæˆ")
    end
end)

-- ========================
-- åˆå§‹åŒ–å®Œæˆ
-- ========================
task.wait(0.5)

showNotification("âœ… ç„ä¸›è…³æœ¬ v8.5 å·²åŠ è¼‰\nğŸ¯ UIä½ˆå±€å®Œå…¨ä¿®å¾©", Color3.fromRGB(50, 150, 200), 2)

print("ğŸ® =================================")
print("ğŸ® ç„ä¸›è…³æœ¬ - UIå®Œå…¨ä¿®å¾©ç‰ˆ v8.5")
print("ğŸ® è¨­å‚™: " .. deviceType)
print("ğŸ® UIä¿®å¾©é …ç›®:")
print("ğŸ®   1. âœ… XAæŒ‰éˆ•ä½ç½®ä¿®å¾©")
print("ğŸ®   2. âœ… FPSæŒ‰éˆ•ä½ç½®ä¿®å¾©")
print("ğŸ®   3. âœ… æŒ‰éˆ•å¯¬åº¦èª¿æ•´ (åƒç´ ç²¾ç¢º)")
print("ğŸ®   4. âœ… UIå¤§å°èª¿æ•´ (310x310)")
print("ğŸ®   5. âœ… æ‰€æœ‰å…ƒç´ åœ¨UIç¯„åœå…§")
print("ğŸ® ä½ˆå±€è¨ˆç®—:")
print("ğŸ®   - æŒ‰éˆ•å¯¬åº¦: 134åƒç´ ")
print("ğŸ®   - æŒ‰éˆ•é–“éš™: 4åƒç´ ")
print("ğŸ®   - å·¦é‚Šè·: 8åƒç´ ")
print("ğŸ®   - å³é‚Šè·: 8åƒç´ ")
print("ğŸ®   - ç¸½å¯¬åº¦: 8 + 134 + 4 + 134 + 8 = 288åƒç´ ")
print("ğŸ®   - UIå¯¬åº¦: 310åƒç´ ")
print("ğŸ®   - ç‹€æ…‹: å®Œç¾ç¬¦åˆ âœ“ (22åƒç´ é‚Šè·)")
print("ğŸ® åŠŸèƒ½ç‰¹è‰²:")
print("ğŸ®   âš¡ è‡ªè¨‚è·é›¢å¿«é€Ÿæ”»æ“Š")
print("ğŸ®   ğŸ¯ å¯è¼¸å…¥ä»»æ„æ•¸å­— (100-50000)")
print("ğŸ®   ğŸ…¿ï¸ çš®è…³æœ¬")
print("ğŸ®   ğŸŒŸ XAè…³æœ¬")
print("ğŸ®   âœˆï¸ é£›è¡Œè…³æœ¬")
print("ğŸ®   ğŸ–¥ï¸ FPSå„ªåŒ–è…³æœ¬")
print("ğŸ® =================================")

print("ğŸš€ è…³æœ¬åŠ è¼‰å®Œæˆï¼ç„ä¸›è…³æœ¬ v8.5 UIä¿®å¾©ç‰ˆå·²å°±ç·’ã€‚")
